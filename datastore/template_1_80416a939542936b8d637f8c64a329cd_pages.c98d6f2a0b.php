<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_cms_front_pages extends \\IPS\\Theme\\Template\n{\n\tpublic $cache_key = '';\n\tfunction globalWrap( $navigation, $content, $page ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div id=\"elCmsPageWrap\" data-pageid=\"\nCONTENT;\n$return .= htmlspecialchars( $page->id, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n{$content}\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction widgetContainer( $id, $widgets, $orientation='horizontal' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( ( ( isset( $widgets[ $id ] ) ) || \\IPS\\Dispatcher::i()->application->canManageWidgets() ) ):\n$return .= <<<CONTENT\n\n\t<div class='cWidgetContainer \nCONTENT;\n\nif ( ! isset( $widgets[ $id ] ) ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' \nCONTENT;\n\nif ( \\IPS\\Dispatcher::i()->application->canManageWidgets() ):\n$return .= <<<CONTENT\ndata-controller='core.front.widgets.area'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n data-role='widgetReceiver' data-orientation='\nCONTENT;\n$return .= htmlspecialchars( $orientation, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' data-widgetArea='\nCONTENT;\n$return .= htmlspecialchars( $id, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t<ul class='ipsList_reset'>\n\t\t\t\nCONTENT;\n\nif ( isset( $widgets[ $id ] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nforeach ( $widgets[ $id ] as $widget ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li class='\nCONTENT;\n\nif ( get_class( $widget ) != 'IPS\\cms\\widgets\\Database' ):\n$return .= <<<CONTENT\nipsWidget ipsWidget_\nCONTENT;\n$return .= htmlspecialchars( $orientation, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-blockTitle=\"\nCONTENT;\n$return .= htmlspecialchars( $widget->title(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" data-blockID='\nCONTENT;\n\nif ( isset($widget->app) ):\n$return .= <<<CONTENT\napp_\nCONTENT;\n$return .= htmlspecialchars( $widget->app, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\nplugin_\nCONTENT;\n$return .= htmlspecialchars( $widget->plugin, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $widget->key, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_\nCONTENT;\n$return .= htmlspecialchars( $widget->uniqueKey, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'\nCONTENT;\n\nif ( $widget->hasConfiguration() ):\n$return .= <<<CONTENT\n data-blockConfig=\"true\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n data-blockErrorMessage=\"\nCONTENT;\n\n$val = \"{$widget->errorMessage}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'escape' => TRUE ) );\n$return .= <<<CONTENT\n\" data-controller='core.front.widgets.block'>{$widget}<\/li>\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<\/ul>\n\t<\/div>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
